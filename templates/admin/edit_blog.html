<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ "Edit" if blog else "Add New" }} Blog</title>
</head>
<body>
  <h1>{{ "Edit" if blog else "Add New" }} Blog</h1>

  <form method="POST">
    <!-- Main fields -->
    <label>Title:</label><br>
    <input type="text" name="title" value="{{ blog.title if blog else '' }}"><br><br>

    <label>Thumbnail Filename:</label><br>
    <input type="text" name="thumbnail" value="{{ blog.thumbnail if blog else '' }}"><br><br>

    <label>Slug:</label><br>
    <input type="text" name="slug" value="{{ blog.slug if blog else '' }}"><br><br>

    <label>Date Posted:</label><br>
    <input type="text" name="date_posted" value="{{ blog.date_posted if blog else '' }}"><br><br>

    <label>Content:</label><br>
    <textarea name="content">{{ blog.content if blog else '' }}</textarea><br><br>

    <!-- Relationship dropdowns -->
    <label>Tags:</label><br>
    <select name="tags" multiple size="5">
      {% for tag in all_tags %}
        <option value="{{ tag.id }}"
          {% if tag.id in selected_tags %}selected{% endif %}>
          {{ tag.name }}
        </option>
      {% endfor %}
    </select><br><br>

    <label>Authors:</label><br>
    <select name="authors" multiple size="5">
      {% for m in all_members %}
        <option value="{{ m.id }}"
          {% if m.id in selected_authors %}selected{% endif %}>
          {{ m.name }}
        </option>
      {% endfor %}
    </select><br><br>

    <label>Assistants:</label><br>
    <select name="assistants" multiple size="5">
      {% for m in all_members %}
        <option value="{{ m.id }}"
          {% if m.id in selected_assistants %}selected{% endif %}>
          {{ m.name }}
        </option>
      {% endfor %}
    </select><br><br>

    <button type="submit">Save</button>
  </form>

  <p><a href="{{ url_for('admin.list_blogs') }}">Back to Blogs</a></p>
</body>
</html>
